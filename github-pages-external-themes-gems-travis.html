<!DOCTYPE html>
<html lang="en">

  <head itemscope itemtype="http://schema.org/WebSite">
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="Shritesh RSS Feed" href="/feed/"/>
  <link rel="canonical" href="/github-pages-external-themes-gems-travis.html">

  <title>Using External Jekyll Themes and Gems on Github Pages with Travis CI</title>
  <meta name="description" content="I recently decided to start blogging (for real, this time). As someone from the developer community, I know that Github Pages is the one-true way to host you...">

  <style type="text/css">
    
    /*480px */
/*768px */
/*1025px*/
/*1441px*/
/*1921px*/
@media screen and (min-width: 0) {
  head {
    font-family: "usn-small 0"; }

  body:after {
    content: "usn-small - min-width: 0"; } }
@media screen and (min-width: 48.063em) {
  head {
    font-family: "usn-medium 48.063em"; }

  body:after {
    content: "usn-medium - min-width: 48.063em"; } }
@media screen and (min-width: 64.063em) {
  head {
    font-family: "usn-large 64.063em"; }

  body:after {
    content: "usn-large - min-width: 64.063em"; } }
head {
  clear: both; }
  head title {
    font-family: "usn-small 0, usn-medium 48.063em, usn-large 64.063em"; }

body:after {
  display: none; }

*[data-usn-if] {
  display: none; }

/* 1.2   */
/* 1.44  */
/* 1.728 */
/* 2.074 */
/* 2.488 */
/* 2.986 */
/* 3.583 */
body {
  font-family: Overpass, Helvetica, Arial, sans-serif;
  font-weight: 400;
  font-size: 1em;
  line-height: 1.44; }

h3,
h2 {
  line-height: 1.2; }

h1 {
  line-height: 1; }

h6, .h6 {
  font-size: 0.83333em; }

h5, .h5 {
  font-size: 1em; }

h4, .h4 {
  font-size: 1.2em; }

h3, .h3 {
  font-size: 1.44em; }

h2, .h2 {
  font-size: 1.728em; }

h1, .h1 {
  font-size: 2.0736em; }

@media only screen and (min-width: 48.063em) {
  body {
    font-size: 1.2em; } }
@media only screen and (min-width: 64.063em) {
  body {
    font-size: 1.44em; } }
@media only screen and (min-width: 90.063em) {
  body {
    font-size: 1.728em; } }
h1, .h1,
h2, .h2,
h3, .h3 {
  word-wrap: break-word;
  margin-top: 1em;
  margin-bottom: 1em; }
  h1 small,
  h1 .small, .h1 small,
  .h1 .small,
  h2 small,
  h2 .small, .h2 small,
  .h2 .small,
  h3 small,
  h3 .small, .h3 small,
  .h3 .small {
    font-size: 65%; }

h4, .h4,
h5, .h5,
h6, .h6 {
  margin-top: 0.5em;
  margin-bottom: 0.5em; }
  h4 small,
  h4 .small, .h4 small,
  .h4 .small,
  h5 small,
  h5 .small, .h5 small,
  .h5 .small,
  h6 small,
  h6 .small, .h6 small,
  .h6 .small {
    font-size: 75%; }

h1, h1 a, h2, h2 a, h3, h3 a, h4, h4 a, h5, h5 a, h6, h6 a {
  text-decoration: none; }

p {
  margin: 0 0 0.5em; }

/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */
/**
 * 1. Set default font family to sans-serif.
 * 2. Prevent iOS and IE text size adjust after device orientation change,
 *    without disabling user zoom.
 */
html {
  font-family: sans-serif;
  /* 1 */
  -ms-text-size-adjust: 100%;
  /* 2 */
  -webkit-text-size-adjust: 100%;
  /* 2 */ }

/**
 * Remove default margin.
 */
body {
  margin: 0; }

/* HTML5 display definitions
   ========================================================================== */
/**
 * Correct `block` display not defined for any HTML5 element in IE 8/9.
 * Correct `block` display not defined for `details` or `summary` in IE 10/11
 * and Firefox.
 * Correct `block` display not defined for `main` in IE 11.
 */
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block; }

/**
 * 1. Correct `inline-block` display not defined in IE 8/9.
 * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.
 */
audio,
canvas,
progress,
video {
  display: inline-block;
  /* 1 */
  vertical-align: baseline;
  /* 2 */ }

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */
audio:not([controls]) {
  display: none;
  height: 0; }

/**
 * Address `[hidden]` styling not present in IE 8/9/10.
 * Hide the `template` element in IE 8/9/10/11, Safari, and Firefox < 22.
 */
[hidden],
template {
  display: none; }

/* Links
   ========================================================================== */
/**
 * Remove the gray background color from active links in IE 10.
 */
a {
  background-color: transparent; }

/**
 * Improve readability of focused elements when they are also in an
 * active/hover state.
 */
a:active,
a:hover {
  outline: 0; }

/* Text-level semantics
   ========================================================================== */
/**
 * Address styling not present in IE 8/9/10/11, Safari, and Chrome.
 */
abbr[title] {
  border-bottom: 1px dotted; }

/**
 * Address style set to `bolder` in Firefox 4+, Safari, and Chrome.
 */
b,
strong {
  font-weight: bold; }

/**
 * Address styling not present in Safari and Chrome.
 */
dfn {
  font-style: italic; }

/**
 * Address variable `h1` font-size and margin within `section` and `article`
 * contexts in Firefox 4+, Safari, and Chrome.
 */
h1 {
  font-size: 2em;
  margin: 0.67em 0; }

/**
 * Address styling not present in IE 8/9.
 */
mark {
  background: #ff0;
  color: #000; }

/**
 * Address inconsistent and variable font size in all browsers.
 */
small {
  font-size: 80%; }

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline; }

sup {
  top: -0.5em; }

sub {
  bottom: -0.25em; }

/* Embedded content
   ========================================================================== */
/**
 * Remove border when inside `a` element in IE 8/9/10.
 */
img {
  border: 0; }

/**
 * Correct overflow not hidden in IE 9/10/11.
 */
svg:not(:root) {
  overflow: hidden; }

/* Grouping content
   ========================================================================== */
/**
 * Address margin not present in IE 8/9 and Safari.
 */
figure {
  margin: 1em 40px; }

/**
 * Address differences between Firefox and other browsers.
 */
hr {
  box-sizing: content-box;
  height: 0; }

/**
 * Contain overflow in all browsers.
 */
pre {
  overflow: auto; }

/**
 * Address odd `em`-unit font size rendering in all browsers.
 */
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em; }

/* Forms
   ========================================================================== */
/**
 * Known limitation: by default, Chrome and Safari on OS X allow very limited
 * styling of `select`, unless a `border` property is set.
 */
/**
 * 1. Correct color not being inherited.
 *    Known issue: affects color of disabled elements.
 * 2. Correct font properties not being inherited.
 * 3. Address margins set differently in Firefox 4+, Safari, and Chrome.
 */
button,
input,
optgroup,
select,
textarea {
  color: inherit;
  /* 1 */
  font: inherit;
  /* 2 */
  margin: 0;
  /* 3 */ }

/**
 * Address `overflow` set to `hidden` in IE 8/9/10/11.
 */
button {
  overflow: visible; }

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Firefox, IE 8/9/10/11, and Opera.
 * Correct `select` style inheritance in Firefox.
 */
button,
select {
  text-transform: none; }

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 */
button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button;
  /* 2 */
  cursor: pointer;
  /* 3 */ }

/**
 * Re-set default cursor for disabled elements.
 */
button[disabled],
html input[disabled] {
  cursor: default; }

/**
 * Remove inner padding and border in Firefox 4+.
 */
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0; }

/**
 * Address Firefox 4+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */
input {
  line-height: normal; }

/**
 * It's recommended that you don't attempt to style these elements.
 * Firefox's implementation doesn't respect box-sizing, padding, or width.
 *
 * 1. Address box sizing set to `content-box` in IE 8/9/10.
 * 2. Remove excess padding in IE 8/9/10.
 */
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box;
  /* 1 */
  padding: 0;
  /* 2 */ }

/**
 * Fix the cursor style for Chrome's increment/decrement buttons. For certain
 * `font-size` values of the `input`, it causes the cursor style of the
 * decrement button to change from `default` to `text`.
 */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto; }

/**
 * 1. Address `appearance` set to `searchfield` in Safari and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari and Chrome.
 */
input[type="search"] {
  -webkit-appearance: textfield;
  /* 1 */
  box-sizing: content-box;
  /* 2 */ }

/**
 * Remove inner padding and search cancel button in Safari and Chrome on OS X.
 * Safari (but not Chrome) clips the cancel button when the search input has
 * padding (and `textfield` appearance).
 */
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none; }

/**
 * Define consistent border, margin, and padding.
 */
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em; }

/**
 * 1. Correct `color` not being inherited in IE 8/9/10/11.
 * 2. Remove padding so people aren't caught out if they zero out fieldsets.
 */
legend {
  border: 0;
  /* 1 */
  padding: 0;
  /* 2 */ }

/**
 * Remove default vertical scrollbar in IE 8/9/10/11.
 */
textarea {
  overflow: auto; }

/**
 * Don't inherit the `font-weight` (applied by a rule above).
 * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.
 */
optgroup {
  font-weight: bold; }

/* Tables
   ========================================================================== */
/**
 * Remove most spacing between table cells.
 */
table {
  border-collapse: collapse;
  border-spacing: 0; }

td,
th {
  padding: 0; }

html,
body {
  box-sizing: border-box; }

*,
*:before,
*:after {
  box-sizing: inherit; }

a {
  text-decoration: underline;
  color: #111; }

img {
  max-width: 100%;
  vertical-align: middle; }

figure > img {
  display: block; }

figcaption {
  font-size: 0.83333em; }

a {
  text-decoration: underline;
  color: #111; }
  a:visited {
    color: #111; }
  a:hover {
    text-decoration: underline;
    color: #0c0c0c; }

ul, ol {
  margin-bottom: 1em; }
  ul li, ol li {
    margin-bottom: 0.5rem; }

.list-unstyled, .list-inline {
  padding-left: 0;
  list-style: none; }

.list-inline {
  margin-left: -5px; }
  .list-inline > li {
    display: inline-block;
    padding-left: 5px;
    padding-right: 5px; }

dl {
  margin-top: 0;
  margin-bottom: 1em; }

dt,
dd {
  line-height: 1.44; }

dt {
  font-weight: bold; }

dd {
  margin-left: 0; }

blockquote {
  padding-left: 0.5em;
  font-size: 1.2em;
  letter-spacing: -1px;
  color: #828282;
  border-left: 4px solid #828282; }
  blockquote > :last-child {
    margin-bottom: 0; }

pre,
code {
  font-size: 15px;
  border: 1px solid #e8e8e8;
  border-radius: 3px;
  background-color: #eef; }

code {
  padding: 1px 5px; }

pre {
  overflow-x: scroll;
  padding: 8px 12px; }
  pre > code {
    padding-right: 0;
    padding-left: 0;
    border: 0; }

table {
  width: 100%;
  table-layout: fixed;
  border: 1px solid #ccc; }
  table > thead > tr > th, table > thead > tr > td, table > tbody > tr > th, table > tbody > tr > td, table > tfoot > tr > th, table > tfoot > tr > td {
    border: 1px solid #ccc; }
  table > thead > tr > th, table > thead > tr > td {
    border-bottom-width: 2px; }

.page {
  padding-bottom: 4em; }

.wrapper {
  margin-right: auto;
  margin-left: auto;
  padding-right: 0.5em;
  padding-left: 0.5em;
  max-width: 40em; }

.grid {
  /* inline-block fallback for IE9 generation */
  letter-spacing: -0.31em;
  text-rendering: optimizespeed;
  margin-left: -2vw;
  margin-right: -2vw;
  margin-bottom: 1em; }
  @supports (display: flex) {
    .grid {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap; } }
  @media only screen and (min-width: 48.063em) {
    .grid {
      margin-left: -0.5em;
      margin-right: -0.5em; } }
  .grid > * {
    margin-left: 2vw;
    margin-right: 2vw;
    margin-bottom: 1em;
    /* inline-block fallback for IE9 generation */
    display: inline-block;
    width: calc(100% * 1 / 4 - 1em - .01px);
    vertical-align: top;
    letter-spacing: normal;
    text-rendering: auto; }
    @media only screen and (min-width: 48.063em) {
      .grid > * {
        margin-left: 0.5em;
        margin-right: 0.5em; } }
    @supports (display: flex) {
      .grid > * {
        flex: 1 0 10em; }
        @media only screen and (min-width: 48.063em) {
          .grid > * {
            flex: 0 0 calc(100% * 1 / 4 - 1em - .01px);
            width: auto; } } }
  .grid > .flexitem-double {
    width: calc(100% * 2 / 4 - 1em); }
    @supports (display: flex) {
      .grid > .flexitem-double {
        flex: 0 0 calc(100% * 2 / 4 - 1em);
        width: auto; } }
  .grid > .flexitem-first {
    order: -1; }

  </style>
  <script>
    /*
loadCSS: load a CSS file asynchronously.
[c]2015 @scottjehl, Filament Group, Inc.
Licensed MIT
*/
(function(w){
  "use strict";
  /* exported loadCSS */
  w.loadCSS = function( href, before, media ){
    // Arguments explained:
    // `href` [REQUIRED] is the URL for your CSS file.
    // `before` [OPTIONAL] is the element the script should use as a reference for injecting our stylesheet <link> before
      // By default, loadCSS attempts to inject the link after the last stylesheet or script in the DOM. However, you might desire a more specific location in your document.
    // `media` [OPTIONAL] is the media type or query of the stylesheet. By default it will be 'all'
    var ss = w.document.createElement( "link" );
    var ref;
    if( before ){
      ref = before;
    }
    else if( w.document.querySelectorAll ){
      var refs = w.document.querySelectorAll(  "style,link[rel=stylesheet],script" );
      // No need to check length. This script has a parent element, at least
      ref = refs[ refs.length - 1];
    }
    else {
      ref = w.document.getElementsByTagName( "script" )[ 0 ];
    }

    var sheets = w.document.styleSheets;
    ss.rel = "stylesheet";
    ss.href = href;
    // temporarily set media to something inapplicable to ensure it'll fetch without blocking render
    ss.media = "only x";

    // Inject link
      // Note: the ternary preserves the existing behavior of "before" argument, but we could choose to change the argument to "after" in a later release and standardize on ref.nextSibling for all refs
      // Note: `insertBefore` is used instead of `appendChild`, for safety re: http://www.paulirish.com/2011/surefire-dom-element-insertion/
    ref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );
    // A method (exposed on return object for external use) that mimics onload by polling until document.styleSheets until it includes the new sheet.
    ss.onloadcssdefined = function( cb ){
      var defined;
      for( var i = 0; i < sheets.length; i++ ){
        if( sheets[ i ].href && sheets[ i ].href === ss.href ){
          defined = true;
        }
      }
      if( defined ){
        cb();
      } else {
        setTimeout(function() {
          ss.onloadcssdefined( cb );
        });
      }
    };

    // once loaded, set link's media back to `all` so that the stylesheet applies once it loads
    ss.onloadcssdefined(function() {
      ss.media = media || "all";
    });
    return ss;
  };
}(this));

    loadCSS("/assets/css/main.css");
    !function(){"use strict";function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e){return window.localStorage&&localStorage.font_css_cache&&localStorage.font_css_cache_file===e}function n(){if(window.localStorage&&window.XMLHttpRequest)if(t(o))c(localStorage.font_css_cache);else{var n=new XMLHttpRequest;n.open("GET",o,!0),e(n,"load",function(){4===n.readyState&&(c(n.responseText),localStorage.font_css_cache=n.responseText,localStorage.font_css_cache_file=o)}),n.send()}else{var a=document.createElement("link");a.href=o,a.rel="stylesheet",a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a),document.cookie="font_css_cache"}}function c(e){var t=document.createElement("style");t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)}var o="/assets/css/font.css";window.localStorage&&localStorage.font_css_cache||document.cookie.indexOf("font_css_cache")>-1?n():e(window,"load",n)}();

  </script>
  <noscript><link rel="stylesheet" href="/assets/css/main.css"></noscript>
  
</head>


  <body itemscope itemtype="http://schema.org/WebPage">

    <div class="skip-links">
  <a href="#main">Main content</a>
</div>
<header class="site-header" role="banner">

  <div class="wrapper">

    <div class="site-logo">
      <a class="site-title" href="/">Shritesh</a>
    </div>

    <nav class="nav-main" role="navigation">
      <ul>
        
          
          <li><a class="page-link" href="/about">About</a></li>
          
        
          
          <li><a class="page-link" href="/archives">Archives</a></li>
          
        
          
        
          
          <li><a class="page-link" href="/now">Now</a></li>
          
        
          
        
          
        
          
        
      </ul>
    </nav>

  </div>

</header>


    <main id="main" class="page">
      <div class="wrapper">
        <article class="post">
  <h1 class="post-title">Using External Jekyll Themes and Gems on Github Pages with Travis CI</h1>
  <p class="post-meta">07/01/2017</p>
  <p>I recently decided to start blogging (for real, this time). As someone from the developer community, I know that <a href="https://pages.github.com/">Github Pages</a> is the <a href="https://github.com/search?q=github.io">one-true way</a> to host your website.</p>

<p>Github Pages provides free hosting, git based deployment, support for custom domains and a lot of other nifty features. It uses <a href="http://jekyllrb.com/">Jekyll</a>, a static site generator which underwent a <a href="http://jekyllrb.com/news/2016/10/06/jekyll-3-3-is-here/">massive overhaul</a> recently and now includes gem based theming and plugins support. Previously, you had to include all the assets of the theme and there were only few plugins supported by default at the time.</p>

<p>I was excited when I found out the <a href="https://github.com/bertrandkeller/overkyll-jekyll-theme">perfect theme</a> for my blog, but turns out Github Pages only supports a select few <a href="https://pages.github.com/themes/">themes</a> and <a href="https://pages.github.com/versions/">plugins</a>. I could still build the site on my machine and push it to Github, but that would defeat the purpose of using Jekyll in the first place.</p>

<p>I Googled (more like <a href="https://duckduckgo.com">Duck Duck Go’d</a>) around figured out that using a continuous integration system like <a href="https://travis-ci.org/">Travis CI</a> (which is free for Open Source) was the proper way to do it. I also found a <a href="https://github.com/steveklabnik/automatically_update_github_pages_with_travis_example">nice example</a> on how to proceed forward. I’ve outline what I did below.</p>

<h3 id="create-a-new-branch">Create a new branch</h3>
<p>Github Pages <a href="https://help.github.com/articles/user-organization-and-project-pages/">builds from</a> the <code class="highlighter-rouge">master</code> branch for User or Organization Pages sites or the <code class="highlighter-rouge">gh-pages</code> branch for Project Pages sites. I created a new <code class="highlighter-rouge">jekyll</code> branch on <a href="https://github.com/shritesh/shritesh.github.io/tree/jekyll">my personal repository</a> for the source. It also makes things easier if you change the default branch in the repository settings.
<img src="/assets/images/github-repository-default-branch.png" alt="Repository default branch" /></p>

<h3 id="get-a-github-api-token">Get a Github API token</h3>
<p>You will be using Travis CI to commit to the <code class="highlighter-rouge">default</code> or <code class="highlighter-rouge">gh-pages</code> branch. Using passwords is insecure to use for third party deployment, so Github provides <a href="https://github.com/blog/1509-personal-api-tokens">Personal Access Tokens</a> to authenticate. Create a token using <a href="https://github.com/settings/tokens">this link</a> and select the <code class="highlighter-rouge">public_repo</code> scope (or the <code class="highlighter-rouge">repo</code> scope if you are using a private repository). Make sure you keep the token safely or someone else might use it to authenticate as you on Github.</p>

<h3 id="configure-travis">Configure Travis</h3>
<p>Go to <a href="">https://travis-ci.org/profile</a> and enable your repository by toggling the switch. Add your Personal Access Token as an environment variable. The token is <a href="https://docs.travis-ci.com/user/environment-variables/#Defining-Variables-in-Repository-Settings">stored encrypted</a> on their servers and only decrypted during builds.  You can choose any name for the environment variable which you will be using later (I used <code class="highlighter-rouge">GH_TOKEN</code>). I also selected the “Build only if .travis.yml is present” and “Build pushes” options to simply things. The former options prevents the deployed repository from being built (Jekyll does not copy that file to the <code class="highlighter-rouge">_site</code> directory) while the later runs the build process as soon as you push to Github.</p>

<p><img src="/assets/images/travis-repository-settings.png" alt="Travis repository settings" /></p>

<p>Travis is configured using a <code class="highlighter-rouge">.travis.yml</code> file on the repository. You can see my configuration <a href="https://github.com/shritesh/shritesh.github.io/blob/jekyll/.travis.yml">here</a>.</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">language</span><span class="pi">:</span> <span class="s">ruby</span>
<span class="s">rvm</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">2.4.0</span>
<span class="s">script</span><span class="pi">:</span> <span class="s">bundle exec jekyll build</span>
<span class="s">branches</span><span class="pi">:</span>
  <span class="s">only</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">jekyll</span>
<span class="s">sudo</span><span class="pi">:</span> <span class="s">false</span>
<span class="s">after_success</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">cd _site</span>
  <span class="pi">-</span> <span class="s">git init</span>
  <span class="pi">-</span> <span class="s">git config user.name "Shritesh Bhattarai"</span>
  <span class="pi">-</span> <span class="s">git config user.email "shritesh@shritesh.com"</span>
  <span class="pi">-</span> <span class="s">git remote add upstream "https://$GH_TOKEN@github.com/shritesh/shritesh.github.io.git"</span>
  <span class="pi">-</span> <span class="s">git fetch upstream</span>
  <span class="pi">-</span> <span class="s">git reset upstream/master</span>
  <span class="pi">-</span> <span class="s">git add -A .</span>
  <span class="pi">-</span> <span class="s">git commit -m "[Build] ${TRAVIS_COMMIT}"</span>
  <span class="pi">-</span> <span class="s">git push -q upstream HEAD:master</span></code></pre></figure>

<p>The configuration is easy to understand. I set the language as Ruby and used the version <code class="highlighter-rouge">2.4.0</code> for Jekyll. Travis will then execute the script <code class="highlighter-rouge">bundle exec jekyll build</code> which compiles the site to <code class="highlighter-rouge">_site</code> directory. I have also configured it to build only on the <code class="highlighter-rouge">jekyll</code> branch of the repository.</p>

<p>After it is successfully built, it changes into the <code class="highlighter-rouge">_site</code> directory, initializes an empty git repository, sets the git credentials to be me and adds an upstream repository using the token stored previously for authentication. It fetches the repository and stages the changes. The <code class="highlighter-rouge">TRAVIS_COMMIT</code> environment variable denotes the latest commit hash, which is used in the commit message. Then, it pushes it to the <code class="highlighter-rouge">master</code> <a href="https://github.com/shritesh/shritesh.github.io/tree/master">branch</a> on Github.</p>

<p>You could also test your site using <code class="highlighter-rouge">html-proofer</code> gem as outlined in Jekyll’s <a href="http://jekyllrb.com/docs/continuous-integration/">documentation on continuous integration</a>.</p>

<p>Similarly, you can also use Travis to <a href="https://docs.travis-ci.com/user/deployment">deploy to another service</a>, which I intend to do soon as Github Pages does not yet support HTTPS on custom domains.</p>

<h3 id="push-your-jekyll-site">Push your Jekyll Site</h3>
<p>Now push your site to Github and Travis should build and deploy your site.</p>

<p><img src="/assets/images/travis-build-status.png" alt="Travis build status" /></p>

<p>Congratulations, you can use any theme or gem on Github Pages now.</p>

<hr />

<p><em>Thank you for reading my first blog post. You can follow <a href="https://twitter.com/shritesh">@shritesh</a> on Twitter if you’d like.</em></p>


</article>




      </div>
    </main>
    <script src=/assets/js/instantclick.min.js  data-no-instant></script>
    <script data-no-instant>
      InstantClick.init();
    </script>
  </body>
</html>
